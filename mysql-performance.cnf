# MySQL Performance Configuration for Bulk Loads
# Place in /etc/mysql/conf.d/ in the MySQL container

[mysqld]
# Buffer pool - use 50-70% of available RAM
innodb_buffer_pool_size = 4G

# Log files - larger = better for bulk inserts
innodb_log_file_size = 512M
innodb_log_buffer_size = 64M

# Flush settings - trade durability for speed during migration
innodb_flush_log_at_trx_commit = 2  # Flush every second, not every commit
innodb_flush_method = O_DIRECT       # Bypass OS cache

# Disable doublewrite buffer during migration (can re-enable after)
innodb_doublewrite = 0

# Write combining
innodb_write_io_threads = 8
innodb_read_io_threads = 8

# Disable binary logging during migration
skip-log-bin

# Increase max connections
max_connections = 200

# Bulk insert buffer
bulk_insert_buffer_size = 64M
