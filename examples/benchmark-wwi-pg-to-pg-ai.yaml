# WideWorldImporters PG to PG migration - AI Type Mapping Test
# Source: pg-wwi (port 5435)
# Target: pg-wwi-target (port 5436)

source:
  type: postgres
  host: localhost
  port: 5435
  database: wideworldimporters
  user: postgres
  password: "PostgresPassword123"
  schema: sales
  ssl_mode: disable

target:
  type: postgres
  host: localhost
  port: 5436
  database: wideworldimporters
  user: postgres
  password: "PostgresPassword123"
  schema: sales
  ssl_mode: disable

migration:
  workers: 6
  chunk_size: 50000
  create_indexes: false
  create_foreign_keys: false

  # Exclude archive tables without PKs
  exclude_tables:
    - customers_archive
    - buyinggroups_archive
    - customercategories_archive

# AI-assisted type mapping
ai:
  api_key: ${file:/home/johnd/.secrets/anthropic-api-key}
  provider: claude
  type_mapping:
    enabled: true
